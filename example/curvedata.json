{ "segments": [{ "type": "TEXT", "data": {}, "content": "## Input Data\nOur synthetic data set is composed of x- and y-coordinates that look as follows when plotted on a Cartesian plane:", "id": "4bdc6g" }, { "type": "TEXT", "data": {}, "content": "### Step 1: Set up Variables\nFirst, let's create some variables to hold our current best estimate of these values at each step of model training. To start, we'll assign each of these variables a random number:", "id": "102iaa4" }, { "type": "CODE", "data": { "trainingData": { "xs": { "isDisposedInternal": false, "shape": [100], "dtype": "float32", "size": 100, "strides": [], "dataId": {}, "id": 14, "rankType": "1" }, "ys": { "isDisposedInternal": false, "shape": [100], "dtype": "float32", "size": 100, "strides": [], "dataId": {}, "id": 38, "rankType": "1" } }, "abcd": { "a": { "isDisposedInternal": false, "shape": [], "dtype": "float32", "size": 1, "strides": [], "dataId": {}, "id": 3, "rankType": "0", "trainable": true, "name": "0" }, "b": { "isDisposedInternal": false, "shape": [], "dtype": "float32", "size": 1, "strides": [], "dataId": {}, "id": 5, "rankType": "0", "trainable": true, "name": "1" }, "c": { "isDisposedInternal": false, "shape": [], "dtype": "float32", "size": 1, "strides": [], "dataId": {}, "id": 7, "rankType": "0", "trainable": true, "name": "2" }, "d": { "isDisposedInternal": false, "shape": [], "dtype": "float32", "size": 1, "strides": [], "dataId": {}, "id": 9, "rankType": "0", "trainable": true, "name": "3" } } }, "content": "const a = tf.variable(tf.scalar(Math.random()));\nconst b = tf.variable(tf.scalar(Math.random()));\nconst c = tf.variable(tf.scalar(Math.random()));\nconst d = tf.variable(tf.scalar(Math.random()));\n\nfunction generateData(numPoints, coeff, sigma = 0.04) {\n  return tf.tidy(() => {\n    const [a, b, c, d] = [\n      tf.scalar(coeff.a), tf.scalar(coeff.b), tf.scalar(coeff.c),\n      tf.scalar(coeff.d)\n    ];\n\n    const xs = tf.randomUniform([numPoints], -1, 1);\n\n    // Generate polynomial data\n    const three = tf.scalar(3, 'int32');\n    const ys = a.mul(xs.pow(three))\n      .add(b.mul(xs.square()))\n      .add(c.mul(xs))\n      .add(d)\n      // Add random noise to the generated data\n      // to make the problem a bit more interesting\n      .add(tf.randomNormal([numPoints], 0, sigma));\n\n    // Normalize the y values to the range 0 to 1.\n    const ymin = ys.min();\n    const ymax = ys.max();\n    const yrange = ymax.sub(ymin);\n    const ysNormalized = ys.sub(ymin).div(yrange);\n\n    return {\n      xs, \n      ys: ysNormalized\n    };\n  })\n}\n\nconst trueCoefficients = {a: -.8, b: -.2, c: .9, d: .5};\nconst trainingData = generateData(100, trueCoefficients);\n\nset('trainingData', trainingData);\nset('abcd', {a, b, c, d})\nend();", "id": "566ibj" }, { "type": "TEXT", "data": {}, "content": "### Step 2: Build a Model\nWe can represent our polynomial function y = ax3 + bx2 + cx + d in TensorFlow.js by chaining a series of mathematical operations: addition (add), multiplication (mul), and exponentiation (pow and square).\n\nThe following code constructs a predict function that takes x as input and returns y:", "id": "l9o912" }, { "type": "CODE", "data": {}, "content": "const {a, b, c, d} = get('abcd')\n\nfunction predict(x) {\n  // y = a * x ^ 3 + b * x ^ 2 + c * x + d\n  return tf.tidy(() => {\n    return a.mul(x.pow(tf.scalar(3))) // a * x^3\n      .add(b.mul(x.square())) // + b * x ^ 2\n      .add(c.mul(x)) // + c * x\n      .add(d); // + d\n  });\n}\n\nfunction loss(prediction, labels) {\n  // Having a good error function is key for training a machine learning model\n  const error = prediction.sub(labels).square().mean();\n  return error;\n}\n\n\n\nset('predict', predict);\nset('loss', loss);\nend();", "id": "an7gk6" }, { "type": "TEXT", "data": {}, "content": "### Step 3: Train the Model\nOur final step is to train the model to learn good values for the coefficients. To train our model, we need to define three things:\n\nA loss function, which measures how well a given polynomial fits the data. The lower the loss value, the better the polynomial fits the data.\n\nAn optimizer, which implements an algorithm for revising our coefficient values based on the output of the loss function. The optimizer's goal is to minimize the output value of the loss function.\n\nA training loop, which will iteratively run the optimizer to minimize loss.\n\n", "id": "fomg4n" }, { "type": "CODE", "data": { "before": { "0": 1.0183664560317993, "1": 1.0671842098236084, "2": 0.7316651940345764, "3": 1.025773525238037, "4": 0.6671429872512817, "5": 1.3479318618774414, "6": 1.6029256582260132, "7": 0.6681135296821594, "8": 1.315104365348816, "9": 1.0937343835830688, "10": 0.8177210092544556, "11": 0.44880756735801697, "12": 0.7355619072914124, "13": 0.7834876179695129, "14": 0.9702650308609009, "15": 0.7427359819412231, "16": 0.5753422975540161, "17": 0.8482826948165894, "18": 0.7768038511276245, "19": 0.5458739399909973, "20": 0.6194648742675781, "21": 1.5178380012512207, "22": 0.7116661071777344, "23": 1.5645866394042969, "24": 0.8984203338623047, "25": 0.7896942496299744, "26": 0.6917054653167725, "27": 0.7759069800376892, "28": 1.4564602375030518, "29": 1.2371275424957275, "30": 0.8167653679847717, "31": 1.339057207107544, "32": 1.0835068225860596, "33": 0.7924920916557312, "34": 0.578692615032196, "35": 0.5364173650741577, "36": 0.6209216117858887, "37": 0.7279278635978699, "38": 0.44260933995246887, "39": 0.6106584072113037, "40": 1.5704898834228516, "41": 0.5103651285171509, "42": 0.7601938247680664, "43": 1.4714523553848267, "44": 1.0398337841033936, "45": 1.0564817190170288, "46": 1.3672690391540527, "47": 0.6749561429023743, "48": 0.750846803188324, "49": 0.6610692739486694, "50": 0.5721064805984497, "51": 0.6624414920806885, "52": 1.350759744644165, "53": 0.9235988855361938, "54": 0.7453898787498474, "55": 0.5621721744537354, "56": 0.9173470735549927, "57": 0.8025345206260681, "58": 0.7312161326408386, "59": 1.279232144355774, "60": 0.8020117282867432, "61": 0.6156554818153381, "62": 1.4644601345062256, "63": 0.46845224499702454, "64": 0.9251278042793274, "65": 0.9381629228591919, "66": 0.6272112131118774, "67": 0.7163100838661194, "68": 1.0545796155929565, "69": 1.3493027687072754, "70": 1.2598888874053955, "71": 1.379338026046753, "72": 0.8656402826309204, "73": 1.156034231185913, "74": 0.6158578395843506, "75": 1.4018584489822388, "76": 0.6588860750198364, "77": 0.9688385725021362, "78": 0.6845683455467224, "79": 0.6553401947021484, "80": 0.6869822144508362, "81": 1.013068675994873, "82": 0.6585357189178467, "83": 0.5265113115310669, "84": 0.6778345108032227, "85": 0.4677700400352478, "86": 0.913936197757721, "87": 0.6834614276885986, "88": 1.4702032804489136, "89": 1.433283805847168, "90": 0.8757447004318237, "91": 1.1602814197540283, "92": 0.8268890976905823, "93": 1.0516624450683594, "94": 0.7488965392112732, "95": 0.8093950748443604, "96": 1.2519714832305908, "97": 1.1062660217285156, "98": 0.6915351152420044, "99": 1.0086326599121094 }, "after": { "0": 0.8551822900772095, "1": 0.857184648513794, "2": 0.4846184253692627, "3": 0.855995237827301, "4": 0.24698078632354736, "5": 0.7675145864486694, "6": 0.604831874370575, "7": 0.2498997449874878, "8": 0.7841492891311646, "9": 0.8552947044372559, "10": 0.7115551233291626, "11": 0.0766175389289856, "12": 0.4988730847835541, "13": 0.6423041820526123, "14": 0.8446371555328369, "15": 0.5241852402687073, "16": 0.09214311838150024, "17": 0.756584644317627, "18": 0.6258646249771118, "19": 0.0760965347290039, "20": 0.14093348383903503, "21": 0.6647347211837769, "22": 0.40752601623535156, "23": 0.6324169635772705, "24": 0.8066866993904114, "25": 0.6566409468650818, "26": 0.33013519644737244, "27": 0.6235765814781189, "28": 0.7047348022460938, "29": 0.8183263540267944, "30": 0.7099198698997498, "31": 0.7721306085586548, "32": 0.8562467098236084, "33": 0.6628245115280151, "34": 0.0946778655052185, "35": 0.07299715280532837, "36": 0.14321637153625488, "37": 0.47064968943595886, "38": 0.0785340666770935, "39": 0.1281774640083313, "40": 0.6282308101654053, "41": 0.06860941648483276, "42": 0.5801577568054199, "43": 0.6952364444732666, "44": 0.8570144176483154, "45": 0.857388973236084, "46": 0.7571648955345154, "47": 0.27138733863830566, "48": 0.5512112975120544, "49": 0.22944819927215576, "50": 0.08984601497650146, "51": 0.2332984209060669, "52": 0.766025722026825, "53": 0.8236849308013916, "54": 0.5332198143005371, "55": 0.08366638422012329, "56": 0.8198848366737366, "57": 0.6836739778518677, "58": 0.48295465111732483, "59": 0.8008675575256348, "60": 0.6826385259628296, "61": 0.13520020246505737, "62": 0.6996891498565674, "63": 0.07174485921859741, "64": 0.8245747089385986, "65": 0.8315603137016296, "66": 0.15367358922958374, "67": 0.42580729722976685, "68": 0.8573896884918213, "69": 0.7667939066886902, "70": 0.809194803237915, "71": 0.7505095601081848, "72": 0.7767958045005798, "73": 0.8441486358642578, "74": 0.1354963183403015, "75": 0.7377070188522339, "76": 0.22345545887947083, "77": 0.8441691398620605, "78": 0.30412930250167847, "79": 0.21406739950180054, "80": 0.31277891993522644, "81": 0.8544784188270569, "82": 0.2225087583065033, "83": 0.07065433263778687, "84": 0.2808901071548462, "85": 0.07188153266906738, "86": 0.8176990151405334, "87": 0.300216943025589, "88": 0.6960347294807434, "89": 0.7190502882003784, "90": 0.7870725393295288, "91": 0.8430874347686768, "92": 0.7264927625656128, "93": 0.8573694229125977, "94": 0.5448729395866394, "95": 0.6967829465866089, "96": 0.8124551773071289, "97": 0.8537671566009521, "98": 0.329500287771225, "99": 0.8538081049919128 }, "ys": { "0": 0.8834683895111084, "1": 0.9440167546272278, "2": 0.488294780254364, "3": 0.9097984433174133, "4": 0.16499489545822144, "5": 0.7392182946205139, "6": 0.5446319580078125, "7": 0.17796628177165985, "8": 0.8342398405075073, "9": 0.9393360018730164, "10": 0.6867126822471619, "11": 0.11925672739744186, "12": 0.46320196986198425, "13": 0.6355948448181152, "14": 0.9806649684906006, "15": 0.45723241567611694, "16": 0.14961232244968414, "17": 0.780742347240448, "18": 0.6264018416404724, "19": 0.11645843088626862, "20": 0.05630486458539963, "21": 0.6595955491065979, "22": 0.3626451790332794, "23": 0.5048403739929199, "24": 0.8868727087974548, "25": 0.715722918510437, "26": 0.26979056000709534, "27": 0.6205590963363647, "28": 0.6371648907661438, "29": 0.8234781622886658, "30": 0.7638582587242126, "31": 0.8153253793716431, "32": 0.84063321352005, "33": 0.7055947184562683, "34": 0.05830928310751915, "35": 0.16752474009990692, "36": 0.17897184193134308, "37": 0.4360647201538086, "38": 0.2171785831451416, "39": 0, "40": 0.548704981803894, "41": 0.12915827333927155, "42": 0.5799370408058167, "43": 0.6593229174613953, "44": 0.8580182790756226, "45": 0.9377361536026001, "46": 0.6482311487197876, "47": 0.13596446812152863, "48": 0.5305481553077698, "49": 0.18965251743793488, "50": 0.08861659467220306, "51": 0.14716503024101257, "52": 0.7472301721572876, "53": 0.8352112770080566, "54": 0.4877181649208069, "55": 0.058896198868751526, "56": 0.9428520202636719, "57": 0.737655758857727, "58": 0.4287503957748413, "59": 0.878562867641449, "60": 0.6615095734596252, "61": 0.027043282985687256, "62": 0.6457688212394714, "63": 0.16765016317367554, "64": 1, "65": 0.9025471210479736, "66": 0.14155709743499756, "67": 0.37713804841041565, "68": 0.9027962684631348, "69": 0.7868199944496155, "70": 0.7772268652915955, "71": 0.7522675395011902, "72": 0.7846243977546692, "73": 0.9051687717437744, "74": 0.116859070956707, "75": 0.7045741081237793, "76": 0.12609736621379852, "77": 0.9572184085845947, "78": 0.20505908131599426, "79": 0.037210024893283844, "80": 0.2688826620578766, "81": 0.9364063739776611, "82": 0.2035745084285736, "83": 0.20174165070056915, "84": 0.17530591785907745, "85": 0.11460552364587784, "86": 0.9045798778533936, "87": 0.24950392544269562, "88": 0.6432744860649109, "89": 0.7342402935028076, "90": 0.8262190222740173, "91": 0.8107760548591614, "92": 0.8779250979423523, "93": 0.9097749590873718, "94": 0.4758572280406952, "95": 0.802089273929596, "96": 0.8111811876296997, "97": 0.844482421875, "98": 0.22052733600139618, "99": 0.8103099465370178 } }, "content": "const numIterations = 75;\nconst learningRate = 0.5;\nconst optimizer = tf.train.sgd(learningRate);\nconst {predict, loss, trainingData} = context;\n\nasync function train(xs, ys, numIterations) {\n  for (let iter = 0; iter < numIterations; iter++) {\n    // optimizer.minimize is where the training happens.\n\n    // The function it takes must return a numerical estimate (i.e. loss)\n    // of how well we are doing using the current state of\n    // the variables we created at the start.\n\n    // This optimizer does the 'backward' step of our training process\n    // updating variables defined previously in order to minimize the\n    // loss.\n    optimizer.minimize(() => {\n      // Feed the examples into the model\n      const pred = predict(xs);\n      return loss(pred, ys);\n    });\n\n    // Use tf.nextFrame to not block the browser.\n    await tf.nextFrame();\n  }\n}\n\nasync function learnCoefficients() {\n  const trueCoefficients = {a: -.8, b: -.2, c: .9, d: .5};\n  const predictionsBefore = predict(trainingData.xs);\n\n  // Train the model!\n  await train(trainingData.xs, trainingData.ys, numIterations);\n\n  const predictionsAfter = predict(trainingData.xs);\n  \n  console.log('here')\n\n  set('before',await predictionsBefore.data());\n  set('after', await predictionsAfter.data());\n  set('ys', await trainingData.ys.data());\n  end();\n}\n\nlearnCoefficients();", "id": "klmdkf" }, { "type": "CHART", "data": { "type": "SCATTER", "content": "let before = get('before')\nlet after = get('after')\nlet ys = get('ys')\nlet data = []\n\nbefore.map((e, i) => data.push({\n\tx: e, y: ys[i], type: 'before'\n}))\n\nafter.map((e, i) => data.push({\n\tx: e, y: ys[i], type: 'after'\n}))\n\nset('data', data)\nend()", "title": "训练前后数据对比", "data": { "data": [{ "x": 1.0183664560317993, "y": 0.8834683895111084, "type": "before" }, { "x": 1.0671842098236084, "y": 0.9440167546272278, "type": "before" }, { "x": 0.7316651940345764, "y": 0.488294780254364, "type": "before" }, { "x": 1.025773525238037, "y": 0.9097984433174133, "type": "before" }, { "x": 0.6671429872512817, "y": 0.16499489545822144, "type": "before" }, { "x": 1.3479318618774414, "y": 0.7392182946205139, "type": "before" }, { "x": 1.6029256582260132, "y": 0.5446319580078125, "type": "before" }, { "x": 0.6681135296821594, "y": 0.17796628177165985, "type": "before" }, { "x": 1.315104365348816, "y": 0.8342398405075073, "type": "before" }, { "x": 1.0937343835830688, "y": 0.9393360018730164, "type": "before" }, { "x": 0.8177210092544556, "y": 0.6867126822471619, "type": "before" }, { "x": 0.44880756735801697, "y": 0.11925672739744186, "type": "before" }, { "x": 0.7355619072914124, "y": 0.46320196986198425, "type": "before" }, { "x": 0.7834876179695129, "y": 0.6355948448181152, "type": "before" }, { "x": 0.9702650308609009, "y": 0.9806649684906006, "type": "before" }, { "x": 0.7427359819412231, "y": 0.45723241567611694, "type": "before" }, { "x": 0.5753422975540161, "y": 0.14961232244968414, "type": "before" }, { "x": 0.8482826948165894, "y": 0.780742347240448, "type": "before" }, { "x": 0.7768038511276245, "y": 0.6264018416404724, "type": "before" }, { "x": 0.5458739399909973, "y": 0.11645843088626862, "type": "before" }, { "x": 0.6194648742675781, "y": 0.05630486458539963, "type": "before" }, { "x": 1.5178380012512207, "y": 0.6595955491065979, "type": "before" }, { "x": 0.7116661071777344, "y": 0.3626451790332794, "type": "before" }, { "x": 1.5645866394042969, "y": 0.5048403739929199, "type": "before" }, { "x": 0.8984203338623047, "y": 0.8868727087974548, "type": "before" }, { "x": 0.7896942496299744, "y": 0.715722918510437, "type": "before" }, { "x": 0.6917054653167725, "y": 0.26979056000709534, "type": "before" }, { "x": 0.7759069800376892, "y": 0.6205590963363647, "type": "before" }, { "x": 1.4564602375030518, "y": 0.6371648907661438, "type": "before" }, { "x": 1.2371275424957275, "y": 0.8234781622886658, "type": "before" }, { "x": 0.8167653679847717, "y": 0.7638582587242126, "type": "before" }, { "x": 1.339057207107544, "y": 0.8153253793716431, "type": "before" }, { "x": 1.0835068225860596, "y": 0.84063321352005, "type": "before" }, { "x": 0.7924920916557312, "y": 0.7055947184562683, "type": "before" }, { "x": 0.578692615032196, "y": 0.05830928310751915, "type": "before" }, { "x": 0.5364173650741577, "y": 0.16752474009990692, "type": "before" }, { "x": 0.6209216117858887, "y": 0.17897184193134308, "type": "before" }, { "x": 0.7279278635978699, "y": 0.4360647201538086, "type": "before" }, { "x": 0.44260933995246887, "y": 0.2171785831451416, "type": "before" }, { "x": 0.6106584072113037, "y": 0, "type": "before" }, { "x": 1.5704898834228516, "y": 0.548704981803894, "type": "before" }, { "x": 0.5103651285171509, "y": 0.12915827333927155, "type": "before" }, { "x": 0.7601938247680664, "y": 0.5799370408058167, "type": "before" }, { "x": 1.4714523553848267, "y": 0.6593229174613953, "type": "before" }, { "x": 1.0398337841033936, "y": 0.8580182790756226, "type": "before" }, { "x": 1.0564817190170288, "y": 0.9377361536026001, "type": "before" }, { "x": 1.3672690391540527, "y": 0.6482311487197876, "type": "before" }, { "x": 0.6749561429023743, "y": 0.13596446812152863, "type": "before" }, { "x": 0.750846803188324, "y": 0.5305481553077698, "type": "before" }, { "x": 0.6610692739486694, "y": 0.18965251743793488, "type": "before" }, { "x": 0.5721064805984497, "y": 0.08861659467220306, "type": "before" }, { "x": 0.6624414920806885, "y": 0.14716503024101257, "type": "before" }, { "x": 1.350759744644165, "y": 0.7472301721572876, "type": "before" }, { "x": 0.9235988855361938, "y": 0.8352112770080566, "type": "before" }, { "x": 0.7453898787498474, "y": 0.4877181649208069, "type": "before" }, { "x": 0.5621721744537354, "y": 0.058896198868751526, "type": "before" }, { "x": 0.9173470735549927, "y": 0.9428520202636719, "type": "before" }, { "x": 0.8025345206260681, "y": 0.737655758857727, "type": "before" }, { "x": 0.7312161326408386, "y": 0.4287503957748413, "type": "before" }, { "x": 1.279232144355774, "y": 0.878562867641449, "type": "before" }, { "x": 0.8020117282867432, "y": 0.6615095734596252, "type": "before" }, { "x": 0.6156554818153381, "y": 0.027043282985687256, "type": "before" }, { "x": 1.4644601345062256, "y": 0.6457688212394714, "type": "before" }, { "x": 0.46845224499702454, "y": 0.16765016317367554, "type": "before" }, { "x": 0.9251278042793274, "y": 1, "type": "before" }, { "x": 0.9381629228591919, "y": 0.9025471210479736, "type": "before" }, { "x": 0.6272112131118774, "y": 0.14155709743499756, "type": "before" }, { "x": 0.7163100838661194, "y": 0.37713804841041565, "type": "before" }, { "x": 1.0545796155929565, "y": 0.9027962684631348, "type": "before" }, { "x": 1.3493027687072754, "y": 0.7868199944496155, "type": "before" }, { "x": 1.2598888874053955, "y": 0.7772268652915955, "type": "before" }, { "x": 1.379338026046753, "y": 0.7522675395011902, "type": "before" }, { "x": 0.8656402826309204, "y": 0.7846243977546692, "type": "before" }, { "x": 1.156034231185913, "y": 0.9051687717437744, "type": "before" }, { "x": 0.6158578395843506, "y": 0.116859070956707, "type": "before" }, { "x": 1.4018584489822388, "y": 0.7045741081237793, "type": "before" }, { "x": 0.6588860750198364, "y": 0.12609736621379852, "type": "before" }, { "x": 0.9688385725021362, "y": 0.9572184085845947, "type": "before" }, { "x": 0.6845683455467224, "y": 0.20505908131599426, "type": "before" }, { "x": 0.6553401947021484, "y": 0.037210024893283844, "type": "before" }, { "x": 0.6869822144508362, "y": 0.2688826620578766, "type": "before" }, { "x": 1.013068675994873, "y": 0.9364063739776611, "type": "before" }, { "x": 0.6585357189178467, "y": 0.2035745084285736, "type": "before" }, { "x": 0.5265113115310669, "y": 0.20174165070056915, "type": "before" }, { "x": 0.6778345108032227, "y": 0.17530591785907745, "type": "before" }, { "x": 0.4677700400352478, "y": 0.11460552364587784, "type": "before" }, { "x": 0.913936197757721, "y": 0.9045798778533936, "type": "before" }, { "x": 0.6834614276885986, "y": 0.24950392544269562, "type": "before" }, { "x": 1.4702032804489136, "y": 0.6432744860649109, "type": "before" }, { "x": 1.433283805847168, "y": 0.7342402935028076, "type": "before" }, { "x": 0.8757447004318237, "y": 0.8262190222740173, "type": "before" }, { "x": 1.1602814197540283, "y": 0.8107760548591614, "type": "before" }, { "x": 0.8268890976905823, "y": 0.8779250979423523, "type": "before" }, { "x": 1.0516624450683594, "y": 0.9097749590873718, "type": "before" }, { "x": 0.7488965392112732, "y": 0.4758572280406952, "type": "before" }, { "x": 0.8093950748443604, "y": 0.802089273929596, "type": "before" }, { "x": 1.2519714832305908, "y": 0.8111811876296997, "type": "before" }, { "x": 1.1062660217285156, "y": 0.844482421875, "type": "before" }, { "x": 0.6915351152420044, "y": 0.22052733600139618, "type": "before" }, { "x": 1.0086326599121094, "y": 0.8103099465370178, "type": "before" }, { "x": 0.8551822900772095, "y": 0.8834683895111084, "type": "after" }, { "x": 0.857184648513794, "y": 0.9440167546272278, "type": "after" }, { "x": 0.4846184253692627, "y": 0.488294780254364, "type": "after" }, { "x": 0.855995237827301, "y": 0.9097984433174133, "type": "after" }, { "x": 0.24698078632354736, "y": 0.16499489545822144, "type": "after" }, { "x": 0.7675145864486694, "y": 0.7392182946205139, "type": "after" }, { "x": 0.604831874370575, "y": 0.5446319580078125, "type": "after" }, { "x": 0.2498997449874878, "y": 0.17796628177165985, "type": "after" }, { "x": 0.7841492891311646, "y": 0.8342398405075073, "type": "after" }, { "x": 0.8552947044372559, "y": 0.9393360018730164, "type": "after" }, { "x": 0.7115551233291626, "y": 0.6867126822471619, "type": "after" }, { "x": 0.0766175389289856, "y": 0.11925672739744186, "type": "after" }, { "x": 0.4988730847835541, "y": 0.46320196986198425, "type": "after" }, { "x": 0.6423041820526123, "y": 0.6355948448181152, "type": "after" }, { "x": 0.8446371555328369, "y": 0.9806649684906006, "type": "after" }, { "x": 0.5241852402687073, "y": 0.45723241567611694, "type": "after" }, { "x": 0.09214311838150024, "y": 0.14961232244968414, "type": "after" }, { "x": 0.756584644317627, "y": 0.780742347240448, "type": "after" }, { "x": 0.6258646249771118, "y": 0.6264018416404724, "type": "after" }, { "x": 0.0760965347290039, "y": 0.11645843088626862, "type": "after" }, { "x": 0.14093348383903503, "y": 0.05630486458539963, "type": "after" }, { "x": 0.6647347211837769, "y": 0.6595955491065979, "type": "after" }, { "x": 0.40752601623535156, "y": 0.3626451790332794, "type": "after" }, { "x": 0.6324169635772705, "y": 0.5048403739929199, "type": "after" }, { "x": 0.8066866993904114, "y": 0.8868727087974548, "type": "after" }, { "x": 0.6566409468650818, "y": 0.715722918510437, "type": "after" }, { "x": 0.33013519644737244, "y": 0.26979056000709534, "type": "after" }, { "x": 0.6235765814781189, "y": 0.6205590963363647, "type": "after" }, { "x": 0.7047348022460938, "y": 0.6371648907661438, "type": "after" }, { "x": 0.8183263540267944, "y": 0.8234781622886658, "type": "after" }, { "x": 0.7099198698997498, "y": 0.7638582587242126, "type": "after" }, { "x": 0.7721306085586548, "y": 0.8153253793716431, "type": "after" }, { "x": 0.8562467098236084, "y": 0.84063321352005, "type": "after" }, { "x": 0.6628245115280151, "y": 0.7055947184562683, "type": "after" }, { "x": 0.0946778655052185, "y": 0.05830928310751915, "type": "after" }, { "x": 0.07299715280532837, "y": 0.16752474009990692, "type": "after" }, { "x": 0.14321637153625488, "y": 0.17897184193134308, "type": "after" }, { "x": 0.47064968943595886, "y": 0.4360647201538086, "type": "after" }, { "x": 0.0785340666770935, "y": 0.2171785831451416, "type": "after" }, { "x": 0.1281774640083313, "y": 0, "type": "after" }, { "x": 0.6282308101654053, "y": 0.548704981803894, "type": "after" }, { "x": 0.06860941648483276, "y": 0.12915827333927155, "type": "after" }, { "x": 0.5801577568054199, "y": 0.5799370408058167, "type": "after" }, { "x": 0.6952364444732666, "y": 0.6593229174613953, "type": "after" }, { "x": 0.8570144176483154, "y": 0.8580182790756226, "type": "after" }, { "x": 0.857388973236084, "y": 0.9377361536026001, "type": "after" }, { "x": 0.7571648955345154, "y": 0.6482311487197876, "type": "after" }, { "x": 0.27138733863830566, "y": 0.13596446812152863, "type": "after" }, { "x": 0.5512112975120544, "y": 0.5305481553077698, "type": "after" }, { "x": 0.22944819927215576, "y": 0.18965251743793488, "type": "after" }, { "x": 0.08984601497650146, "y": 0.08861659467220306, "type": "after" }, { "x": 0.2332984209060669, "y": 0.14716503024101257, "type": "after" }, { "x": 0.766025722026825, "y": 0.7472301721572876, "type": "after" }, { "x": 0.8236849308013916, "y": 0.8352112770080566, "type": "after" }, { "x": 0.5332198143005371, "y": 0.4877181649208069, "type": "after" }, { "x": 0.08366638422012329, "y": 0.058896198868751526, "type": "after" }, { "x": 0.8198848366737366, "y": 0.9428520202636719, "type": "after" }, { "x": 0.6836739778518677, "y": 0.737655758857727, "type": "after" }, { "x": 0.48295465111732483, "y": 0.4287503957748413, "type": "after" }, { "x": 0.8008675575256348, "y": 0.878562867641449, "type": "after" }, { "x": 0.6826385259628296, "y": 0.6615095734596252, "type": "after" }, { "x": 0.13520020246505737, "y": 0.027043282985687256, "type": "after" }, { "x": 0.6996891498565674, "y": 0.6457688212394714, "type": "after" }, { "x": 0.07174485921859741, "y": 0.16765016317367554, "type": "after" }, { "x": 0.8245747089385986, "y": 1, "type": "after" }, { "x": 0.8315603137016296, "y": 0.9025471210479736, "type": "after" }, { "x": 0.15367358922958374, "y": 0.14155709743499756, "type": "after" }, { "x": 0.42580729722976685, "y": 0.37713804841041565, "type": "after" }, { "x": 0.8573896884918213, "y": 0.9027962684631348, "type": "after" }, { "x": 0.7667939066886902, "y": 0.7868199944496155, "type": "after" }, { "x": 0.809194803237915, "y": 0.7772268652915955, "type": "after" }, { "x": 0.7505095601081848, "y": 0.7522675395011902, "type": "after" }, { "x": 0.7767958045005798, "y": 0.7846243977546692, "type": "after" }, { "x": 0.8441486358642578, "y": 0.9051687717437744, "type": "after" }, { "x": 0.1354963183403015, "y": 0.116859070956707, "type": "after" }, { "x": 0.7377070188522339, "y": 0.7045741081237793, "type": "after" }, { "x": 0.22345545887947083, "y": 0.12609736621379852, "type": "after" }, { "x": 0.8441691398620605, "y": 0.9572184085845947, "type": "after" }, { "x": 0.30412930250167847, "y": 0.20505908131599426, "type": "after" }, { "x": 0.21406739950180054, "y": 0.037210024893283844, "type": "after" }, { "x": 0.31277891993522644, "y": 0.2688826620578766, "type": "after" }, { "x": 0.8544784188270569, "y": 0.9364063739776611, "type": "after" }, { "x": 0.2225087583065033, "y": 0.2035745084285736, "type": "after" }, { "x": 0.07065433263778687, "y": 0.20174165070056915, "type": "after" }, { "x": 0.2808901071548462, "y": 0.17530591785907745, "type": "after" }, { "x": 0.07188153266906738, "y": 0.11460552364587784, "type": "after" }, { "x": 0.8176990151405334, "y": 0.9045798778533936, "type": "after" }, { "x": 0.300216943025589, "y": 0.24950392544269562, "type": "after" }, { "x": 0.6960347294807434, "y": 0.6432744860649109, "type": "after" }, { "x": 0.7190502882003784, "y": 0.7342402935028076, "type": "after" }, { "x": 0.7870725393295288, "y": 0.8262190222740173, "type": "after" }, { "x": 0.8430874347686768, "y": 0.8107760548591614, "type": "after" }, { "x": 0.7264927625656128, "y": 0.8779250979423523, "type": "after" }, { "x": 0.8573694229125977, "y": 0.9097749590873718, "type": "after" }, { "x": 0.5448729395866394, "y": 0.4758572280406952, "type": "after" }, { "x": 0.6967829465866089, "y": 0.802089273929596, "type": "after" }, { "x": 0.8124551773071289, "y": 0.8111811876296997, "type": "after" }, { "x": 0.8537671566009521, "y": 0.844482421875, "type": "after" }, { "x": 0.329500287771225, "y": 0.22052733600139618, "type": "after" }, { "x": 0.8538081049919128, "y": 0.8103099465370178, "type": "after" }] } }, "content": "", "id": "8ljik6" }], "title": "Fitting a Curve to Synthetic Data", "date": 1538126727006, "data": { "trainingData": { "xs": { "isDisposedInternal": false, "shape": [100], "dtype": "float32", "size": 100, "strides": [], "dataId": {}, "id": 14, "rankType": "1" }, "ys": { "isDisposedInternal": false, "shape": [100], "dtype": "float32", "size": 100, "strides": [], "dataId": {}, "id": 38, "rankType": "1" } }, "abcd": { "a": { "isDisposedInternal": false, "shape": [], "dtype": "float32", "size": 1, "strides": [], "dataId": {}, "id": 3, "rankType": "0", "trainable": true, "name": "0" }, "b": { "isDisposedInternal": false, "shape": [], "dtype": "float32", "size": 1, "strides": [], "dataId": {}, "id": 5, "rankType": "0", "trainable": true, "name": "1" }, "c": { "isDisposedInternal": false, "shape": [], "dtype": "float32", "size": 1, "strides": [], "dataId": {}, "id": 7, "rankType": "0", "trainable": true, "name": "2" }, "d": { "isDisposedInternal": false, "shape": [], "dtype": "float32", "size": 1, "strides": [], "dataId": {}, "id": 9, "rankType": "0", "trainable": true, "name": "3" } }, "before": { "0": 1.0183664560317993, "1": 1.0671842098236084, "2": 0.7316651940345764, "3": 1.025773525238037, "4": 0.6671429872512817, "5": 1.3479318618774414, "6": 1.6029256582260132, "7": 0.6681135296821594, "8": 1.315104365348816, "9": 1.0937343835830688, "10": 0.8177210092544556, "11": 0.44880756735801697, "12": 0.7355619072914124, "13": 0.7834876179695129, "14": 0.9702650308609009, "15": 0.7427359819412231, "16": 0.5753422975540161, "17": 0.8482826948165894, "18": 0.7768038511276245, "19": 0.5458739399909973, "20": 0.6194648742675781, "21": 1.5178380012512207, "22": 0.7116661071777344, "23": 1.5645866394042969, "24": 0.8984203338623047, "25": 0.7896942496299744, "26": 0.6917054653167725, "27": 0.7759069800376892, "28": 1.4564602375030518, "29": 1.2371275424957275, "30": 0.8167653679847717, "31": 1.339057207107544, "32": 1.0835068225860596, "33": 0.7924920916557312, "34": 0.578692615032196, "35": 0.5364173650741577, "36": 0.6209216117858887, "37": 0.7279278635978699, "38": 0.44260933995246887, "39": 0.6106584072113037, "40": 1.5704898834228516, "41": 0.5103651285171509, "42": 0.7601938247680664, "43": 1.4714523553848267, "44": 1.0398337841033936, "45": 1.0564817190170288, "46": 1.3672690391540527, "47": 0.6749561429023743, "48": 0.750846803188324, "49": 0.6610692739486694, "50": 0.5721064805984497, "51": 0.6624414920806885, "52": 1.350759744644165, "53": 0.9235988855361938, "54": 0.7453898787498474, "55": 0.5621721744537354, "56": 0.9173470735549927, "57": 0.8025345206260681, "58": 0.7312161326408386, "59": 1.279232144355774, "60": 0.8020117282867432, "61": 0.6156554818153381, "62": 1.4644601345062256, "63": 0.46845224499702454, "64": 0.9251278042793274, "65": 0.9381629228591919, "66": 0.6272112131118774, "67": 0.7163100838661194, "68": 1.0545796155929565, "69": 1.3493027687072754, "70": 1.2598888874053955, "71": 1.379338026046753, "72": 0.8656402826309204, "73": 1.156034231185913, "74": 0.6158578395843506, "75": 1.4018584489822388, "76": 0.6588860750198364, "77": 0.9688385725021362, "78": 0.6845683455467224, "79": 0.6553401947021484, "80": 0.6869822144508362, "81": 1.013068675994873, "82": 0.6585357189178467, "83": 0.5265113115310669, "84": 0.6778345108032227, "85": 0.4677700400352478, "86": 0.913936197757721, "87": 0.6834614276885986, "88": 1.4702032804489136, "89": 1.433283805847168, "90": 0.8757447004318237, "91": 1.1602814197540283, "92": 0.8268890976905823, "93": 1.0516624450683594, "94": 0.7488965392112732, "95": 0.8093950748443604, "96": 1.2519714832305908, "97": 1.1062660217285156, "98": 0.6915351152420044, "99": 1.0086326599121094 }, "after": { "0": 0.8551822900772095, "1": 0.857184648513794, "2": 0.4846184253692627, "3": 0.855995237827301, "4": 0.24698078632354736, "5": 0.7675145864486694, "6": 0.604831874370575, "7": 0.2498997449874878, "8": 0.7841492891311646, "9": 0.8552947044372559, "10": 0.7115551233291626, "11": 0.0766175389289856, "12": 0.4988730847835541, "13": 0.6423041820526123, "14": 0.8446371555328369, "15": 0.5241852402687073, "16": 0.09214311838150024, "17": 0.756584644317627, "18": 0.6258646249771118, "19": 0.0760965347290039, "20": 0.14093348383903503, "21": 0.6647347211837769, "22": 0.40752601623535156, "23": 0.6324169635772705, "24": 0.8066866993904114, "25": 0.6566409468650818, "26": 0.33013519644737244, "27": 0.6235765814781189, "28": 0.7047348022460938, "29": 0.8183263540267944, "30": 0.7099198698997498, "31": 0.7721306085586548, "32": 0.8562467098236084, "33": 0.6628245115280151, "34": 0.0946778655052185, "35": 0.07299715280532837, "36": 0.14321637153625488, "37": 0.47064968943595886, "38": 0.0785340666770935, "39": 0.1281774640083313, "40": 0.6282308101654053, "41": 0.06860941648483276, "42": 0.5801577568054199, "43": 0.6952364444732666, "44": 0.8570144176483154, "45": 0.857388973236084, "46": 0.7571648955345154, "47": 0.27138733863830566, "48": 0.5512112975120544, "49": 0.22944819927215576, "50": 0.08984601497650146, "51": 0.2332984209060669, "52": 0.766025722026825, "53": 0.8236849308013916, "54": 0.5332198143005371, "55": 0.08366638422012329, "56": 0.8198848366737366, "57": 0.6836739778518677, "58": 0.48295465111732483, "59": 0.8008675575256348, "60": 0.6826385259628296, "61": 0.13520020246505737, "62": 0.6996891498565674, "63": 0.07174485921859741, "64": 0.8245747089385986, "65": 0.8315603137016296, "66": 0.15367358922958374, "67": 0.42580729722976685, "68": 0.8573896884918213, "69": 0.7667939066886902, "70": 0.809194803237915, "71": 0.7505095601081848, "72": 0.7767958045005798, "73": 0.8441486358642578, "74": 0.1354963183403015, "75": 0.7377070188522339, "76": 0.22345545887947083, "77": 0.8441691398620605, "78": 0.30412930250167847, "79": 0.21406739950180054, "80": 0.31277891993522644, "81": 0.8544784188270569, "82": 0.2225087583065033, "83": 0.07065433263778687, "84": 0.2808901071548462, "85": 0.07188153266906738, "86": 0.8176990151405334, "87": 0.300216943025589, "88": 0.6960347294807434, "89": 0.7190502882003784, "90": 0.7870725393295288, "91": 0.8430874347686768, "92": 0.7264927625656128, "93": 0.8573694229125977, "94": 0.5448729395866394, "95": 0.6967829465866089, "96": 0.8124551773071289, "97": 0.8537671566009521, "98": 0.329500287771225, "99": 0.8538081049919128 }, "ys": { "0": 0.8834683895111084, "1": 0.9440167546272278, "2": 0.488294780254364, "3": 0.9097984433174133, "4": 0.16499489545822144, "5": 0.7392182946205139, "6": 0.5446319580078125, "7": 0.17796628177165985, "8": 0.8342398405075073, "9": 0.9393360018730164, "10": 0.6867126822471619, "11": 0.11925672739744186, "12": 0.46320196986198425, "13": 0.6355948448181152, "14": 0.9806649684906006, "15": 0.45723241567611694, "16": 0.14961232244968414, "17": 0.780742347240448, "18": 0.6264018416404724, "19": 0.11645843088626862, "20": 0.05630486458539963, "21": 0.6595955491065979, "22": 0.3626451790332794, "23": 0.5048403739929199, "24": 0.8868727087974548, "25": 0.715722918510437, "26": 0.26979056000709534, "27": 0.6205590963363647, "28": 0.6371648907661438, "29": 0.8234781622886658, "30": 0.7638582587242126, "31": 0.8153253793716431, "32": 0.84063321352005, "33": 0.7055947184562683, "34": 0.05830928310751915, "35": 0.16752474009990692, "36": 0.17897184193134308, "37": 0.4360647201538086, "38": 0.2171785831451416, "39": 0, "40": 0.548704981803894, "41": 0.12915827333927155, "42": 0.5799370408058167, "43": 0.6593229174613953, "44": 0.8580182790756226, "45": 0.9377361536026001, "46": 0.6482311487197876, "47": 0.13596446812152863, "48": 0.5305481553077698, "49": 0.18965251743793488, "50": 0.08861659467220306, "51": 0.14716503024101257, "52": 0.7472301721572876, "53": 0.8352112770080566, "54": 0.4877181649208069, "55": 0.058896198868751526, "56": 0.9428520202636719, "57": 0.737655758857727, "58": 0.4287503957748413, "59": 0.878562867641449, "60": 0.6615095734596252, "61": 0.027043282985687256, "62": 0.6457688212394714, "63": 0.16765016317367554, "64": 1, "65": 0.9025471210479736, "66": 0.14155709743499756, "67": 0.37713804841041565, "68": 0.9027962684631348, "69": 0.7868199944496155, "70": 0.7772268652915955, "71": 0.7522675395011902, "72": 0.7846243977546692, "73": 0.9051687717437744, "74": 0.116859070956707, "75": 0.7045741081237793, "76": 0.12609736621379852, "77": 0.9572184085845947, "78": 0.20505908131599426, "79": 0.037210024893283844, "80": 0.2688826620578766, "81": 0.9364063739776611, "82": 0.2035745084285736, "83": 0.20174165070056915, "84": 0.17530591785907745, "85": 0.11460552364587784, "86": 0.9045798778533936, "87": 0.24950392544269562, "88": 0.6432744860649109, "89": 0.7342402935028076, "90": 0.8262190222740173, "91": 0.8107760548591614, "92": 0.8779250979423523, "93": 0.9097749590873718, "94": 0.4758572280406952, "95": 0.802089273929596, "96": 0.8111811876296997, "97": 0.844482421875, "98": 0.22052733600139618, "99": 0.8103099465370178 } } }